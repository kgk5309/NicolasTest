<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
  <script>
    function checkMobile(){
        var varUA = navigator.userAgent.toLowerCase(); //userAgent 값 얻기
        if ( varUA.indexOf('android') > -1) {
            //안드로이드
            return "android";
        } else if ( varUA.indexOf("iphone") > -1||varUA.indexOf("ipad") > -1||varUA.indexOf("ipod") > -1 ) {
            //IOS
            return "ios";
        } else {
            //아이폰, 안드로이드 외
            return "other";
        }
    }

    
    function nativeAction(type) {
      window.ReactNativeWebView.postMessage(type);
    }
    function webviewAction() {
      alert("webviewAction")
    }
    
    const receiver = checkMobile() === "ios" ? window : document;

    receiver.addEventListener('message', (e) => {
      const { type, data } = JSON.parse(e.data);
      document.getElementById('imageSpan').innerText = data
    } );
    
  </script>
</head>
<body>
  <button onclick="nativeAction('camera')">
    카메라
  </button>
  <button onclick="nativeAction('gallery')">
    갤러리
  </button>
  <br>
  <span id="imageSpan">이미지 데이터가 없습니다.</span>
  <br>
</body>
</html>
